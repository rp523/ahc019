# 検討メモ

## 考えたこと
使用ブロックを余らせないようにする調整は最後にやる。  
また、最終的には1x1x1のブロックを使うようなプログラムは順位表から淘汰されそうな気がするので、  
最低限2x1x1は精一杯つなげたほうがいいだろう。  
また、必要以上のブロックを使ったとしても、それらの連結数が少なければペナルティにはならない。  

## 処理内容
まずは最大流で2x1x1単位のブロックを限界まで敷き詰める。  
シルエットが完成していなかったら、しぶしぶ1x1x1を入れる。でもそんなにやらなくていいはず。  
繋げられる限りつなく。1x1x1から優先的につなげる。←2x1x1からのほうがいいのでは？実際には最大流だから制御できないけど  
 - それぞれのシルエットごとに、存在するブロック番号を２重ループで全探索しIDペアを列挙する。  
 - ビットフィールドがいいと思うが、ブロックの原点ベースで専有位置メモを生成する。ついでにIDペアの接続判定もやる。
 - 3次元回転の全パターンを試して、重複するものがあるか探していく。

つなぎきれなかったブロックで、消してもシルエットが変わらないものは削除する。

最終的には焼きなましを使うことになるだろうけど、スコア関数が非線形すぎて、そんなにうまくいかない気がする。
良い初期値をある程度貪欲に作ることを１週目は頑張りたい。
最大流使ったらなんとかならんかな

スコア関数がめちゃめちゃ非線形ぽいから、良い初期値を最大流で求める方式で進める。  
現状のやり方でのワーストスコアケースを見ると、やたらシルエット同士でマッチングしない余りがある。
余らせないようにマッチングさせる方針が必要ぽい。
